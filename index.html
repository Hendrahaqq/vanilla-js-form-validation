<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

    <div class="main-container">
        <div class="container">
            <div class="form-header">
                <p class="hero-text">Form Pendaftaran :</p>
            </div>
            
            <div class="form-container" id="form-data">
                <div class="per-form">
                    <label  for="name">Nama</label>
                    <input id="name" type="text" placeholder="masukkan nama anda (harus diawali kapital)">  
                    
                   
                </div>
                <div class="per-form">
                    <label  for="gender" style="display: block;">Jenis Kelamin :</label>
                    <label class="per-radio">
                        <input type="radio" name="gender" value="man">
                        <span>Laki-laki</span>
                     </label>
                     
                     <label class="per-radio">
                        <input type="radio" name="gender" value="woman">
                        <span>Perempuan</span>
                     </label>
                   
                   
                </div>
                <div class="per-form">
                    <label  for="gender" style="display: block;">Hobi :</label>
                   
                        <label class="per-checkbox">
                            <input type="checkbox"  name="hobby" value="coding">
                            <span>Coding</span>
                         </label>
                  
                         <label class="per-checkbox">
                            <input type="checkbox"  name="hobby" value="sing">
                            <span>Menyanyi</span>
                         </label>
                        
                        
                         <label class="per-checkbox">
                            <input type="checkbox"  name="hobby" value="sport">
                            <span>Olahraga</span>
                         </label>
                        
                        
                    
                </div>
                <div class="per-form">
                    <label  for="name">Email</label>
                    <input id="email" type="text" placeholder="ex: something@example.com">  
                    
                   
                </div>
                <div class="per-form">
                    <label  for="name">Nomor HP</label>
                    <input id="phone" type="number" placeholder="ex: 098733341234">  
                    
                   
                </div>
                <div class="per-form">
                    <label  for="name">Username</label>
                    <input id="username" type="text" placeholder="maksimal 10 karakter">  
                    
                   
                </div>
                <div class="per-form">
                    <label  for="name">Password</label>
                    <input id="password" type="password" placeholder="minimal 7 karakter">  
                    
                   
                </div>
    
                <div class="btn-container">
                    <button id="reset-btn" class="reset">Reset</button>
                    <button id="submit-btn" class="submit">Submit</button>
                </div>
    
               <p>created By Hendra</p> 
            </div>
            
        </div>
    
        
    
        <div id="modal-error" class="modal ">
            <div class="modal-body">
                <p class="modal-title">Oops! </p>
                <p class="modal-title">Ada Kesalahan </p>
                <ul id="error-list" class="list-error">
    
                </ul>
    
                <button id="hide-modal" class="submit">Okay!</button>
            </div>
    
        </div>
    
        <div  id="modal-success" class="modal ">
            <div  class="modal-body modal-body-success">
                <div>
                    <p class="modal-title">Yeay! </p>
                <p class="modal-title">berhasil Mensubmit Data </p>
                </div>
                
                <button id="hide-modal-success" class="submit">Okay!</button>
            </div>
    
        </div>
    </div>
  
    

<script>
    
    const submit = document.querySelector('#submit-btn')
    const reset = document.querySelector('#reset-btn')
    const modalError = document.querySelector('#modal-error')
    const modalSuccess = document.querySelector('#modal-success')
    const errorCont = document.querySelector('#error-list')
    const hideError = document.querySelector('#hide-modal')
    const hideSuccess = document.querySelector('#hide-modal-success')
    const checkCapital = (word) => {
      
    return word.charAt(0) === word.charAt(0).toUpperCase()

    }

    const checkEmail = (email) => {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }

    hideError.addEventListener("click", () => {
  
        modalError.style.display = 'none'
   
        errorCont.innerHTML = ''
    })

    hideSuccess.addEventListener("click", () => {
  
  modalSuccess.style.display = 'none'


})
    
    submit.addEventListener("click", () => {
        let errorMsg = []
        const name = document.querySelector('#name').value
        const gender = document.querySelectorAll('input[name="gender"]:checked')
        const hobby = document.querySelectorAll('input[name="hobby"]:checked')
        const email = document.querySelector('#email').value
        const phone = document.querySelector('#phone').value
        const username = document.querySelector('#username').value
        const password = document.querySelector('#password').value

        if(!name) {
            errorMsg.push('Nama Tidak boleh Kosong')
        }else if(!checkCapital(name)) {
           errorMsg.push('Huruf Depan Nama Harus Kapital')
        } 

        if(!gender.length) {
            errorMsg.push('Harus memilih salah satu jenis kelamin')
        }

        if(!hobby.length) {
            errorMsg.push('Huruf Memilih salah satu hobi atau lebih')
        }

        if(!email) {
            errorMsg.push('Email Tidak boleh kosong')
        }else if(!checkEmail(email)) {
            errorMsg.push('Format Email Salah')
        }

        if(!phone) {
            errorMsg.push('Nomor HP tidak boleh kosong')
        }

        if(!username.length) {
            errorMsg.push('Username tidak boleh kosong')
        } else if(username.length > 10 ) {
            errorMsg.push('Username maksimal 10 karakter')
        }

        if(password.length < 7) {
            errorMsg.push('Minimal panjang password adalah 7 karakter')
        }

        if(errorMsg.length != 0) {
            
            for(i=0;i<errorMsg.length;i++){
                const list = document.createElement('li')
                list.innerHTML = errorMsg[i]
                errorCont.appendChild(list)
            }
            modalError.style.display = 'flex'
        } else {
            modalSuccess.style.display = 'flex'
        }
    })

    reset.addEventListener("click", () => {
        document.querySelector('#name').value = ''
        
        document.querySelector('#email').value = ''
        document.querySelector('#phone').value = ''
        document.querySelector('#username').value = ''
        document.querySelector('#password').value = ''

        const gender =  document.querySelectorAll('input[name="gender"]')
        for(i=0; i<gender.length;i++) {
            gender[i].checked = false
        }
        const hobby = document.querySelectorAll('input[name="hobby"]')
        for(i=0; i<hobby.length;i++) {
            hobby[i].checked = false
        }
    })
    
</script>
</body>
</html>